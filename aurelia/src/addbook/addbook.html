<template>

  <div class="ui fluid container custom-width">
    <div class="ui grid">
      <div class="sixteen wide column">
        <h1>Sell book</h1>
      </div>
      <div class="twelve wide column">
        <div class="ui segment sell-book">

        <div if.bind="statusMessagesVisible">
          <div class="ui error message sell-book">
            <div class="header">
              There were some errors with your submission
            </div>
            <ul class="list">
              <li repeat.for="statusMessages of statusMessages">${statusMessages}</li>
            </ul>
          </div>
        </div>

          <form class="ui large form" id="bookaddform" method="post" submit.delegate="addBook()">

            <div class="field sell-book">
              <label>ISBN:</label>
              <div class="two fields">
                <div class="field">
                  <input id="isbn" type="text" name="isbn" value.bind="bookData.isbn">
                </div>
                <div class="field">
                    <button class="ui ${magicFillBusy ? 'loading' : ''} large button" click.delegate="magicFill(bookData.isbn)">Magic Fill</button>
                </div>
              </div>
            </div>

            <div class="two fields">
              <div class="field required sell-book">
                <label>Title:</label>
                <input id="title" type="text" name="title" value.bind="bookData.title">
              </div>

              <div class="field sell-book">
                <label>Author:</label>
                <input id="author" type="text" name="author" value.bind="bookData.author">
              </div>
            </div>

            <div class="two fields">
              <div class="field required sell-book">
                <label>Genre:</label>
                <select class="ui dropdown" value.bind="bookDataGenre.id">
                  <option model.bind="null" value="">choose...</option>
                  <option repeat.for="genre of genres" model.bind="genre.id">${genre.string}</option>
                </select>
              </div>

              <div class="field required sell-book">
                <label>Language:</label>
                <select class="ui dropdown" value.bind="bookDataLanguage.id">
                  <option model.bind="null" value="">choose...</option>
                  <option repeat.for="language of languages" model.bind="language.id">${language.string}</option>
                </select>
              </div>
            </div>

            <div class="two fields">
              <div class="field required sell-book">
                <label>Price:</label>
                <input id="bookPrice" type="number" step=".01" name="bookPrice" min="0" max="9999" value.bind="bookData.price">
              </div>

              <div class="field required sell-book">
                <label>Condition:</label>
                <select class="ui dropdown" value.bind="bookDataCondition.id">
                  <option model.bind="null" value="">choose...</option>
                  <option repeat.for="condition of conditions" model.bind="condition.id">${condition.string}</option>
                </select>
              </div>
            </div>

            <div class="two fields">
              <div class="field sell-book">
                <label>Pubyear:</label>
                <input id="pubyear" type="text" name="pubyear" value.bind="bookData.pubyear">
              </div>

              <div class="field sell-book">
                <label>Publisher:</label>
                <input id="publisher" type="text" name="publisher" value.bind="bookData.publisher">
              </div>
            </div>

            <div class="two fields">
              <div class="field required sell-book">
                <label>City:</label>
                <select class="ui search dropdown" value.bind="selectedCity">
                  <option model.bind="null" value="">choose or search...</option>
                  <option repeat.for="city of cities" model.bind="city.id">${city.string}</option>
                </select>
              </div>
            </div>

            <!-- <div class="field required sell-book description">
              <label>Description:</label>
              <textarea rows="4" id="bookDescription" type="text" name="bookDescription" value.bind="bookData.description"></textarea>
            </div> -->

            <!-- <div innerhtml.bind="htmlProperty | sanitizeHTML"></div> -->

            <!-- <div innerhtml.two-way="quillDescription | sanitizeHTML" id="editor"><p>hello</p></div> -->

            <textarea name="editor1"></textarea>

            <!-- <button click.delegate="printQuillContent()">Testing Button</button> -->

            <input class="ui large teal submit button" type="submit" value="Sell Book" id="sell_book">
          </form>

        </div>
      </div>

      <div class="four wide column">
        <div class="ui center aligned segment">
          <img class="ui fluid image" src.bind="bookData.imagepath">

          <form class="ui large form" id="bookaddform" method="post" submit.delegate="addBook()">
            <label for="image" class="ui big teal icon button upload-image">
              <i class="upload icon"></i>
              <span>add image</span>
            </label>
            <input type="file" id="image" style="display:none" name="imagepath" accept=".png,.jpg">
          </form>

        </div>
      </div>

    </div>
  </div>

</template>
