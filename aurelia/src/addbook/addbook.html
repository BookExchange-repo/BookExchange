<template>

  <div class="ui fluid container custom-width">
    <div class="ui grid">
      <!-- Temporary -->
      <div class="sixteen wide column" style="margin-top:0.8em; margin-bottom:0.8em">
        <div class="ui huge breadcrumb">
          <a href="#" class="section">Home</a>
          <i class="right chevron icon divider"></i>
          <div class="active section">Sell Book</div>
        </div>
      </div>

      <div class="twelve wide column">
        <div class="ui segment sell-book">

        <div if.bind="statusMessagesVisible">
          <div class="ui error message sell-book">
            <div class="header">
              There were some errors with your submission
            </div>
            <ul class="list">
              <li repeat.for="statusMessages of statusMessages">${statusMessages}</li>
            </ul>
          </div>
        </div>

          <form class="ui large form" id="bookaddform" method="post" submit.delegate="addBook()">

            <h3 class="ui dividing header sell-book">Autocomplete</h3>
            <div class="field">
              <label>ISBN code</label>
              <div class="fields">
                <div class="six wide field">
                  <input id="isbn" type="text" name="isbn" value.bind="bookData.isbn" placeholder="ISBN code">
                </div>
                <div class="three wide field">
                  <button class="ui ${magicFillBusy ? 'loading' : ''} large button" click.delegate="magicFill(bookData.isbn)">Magic Fill</button>
                </div>
              </div>
            </div>

            <h3 class="ui dividing header sell-book second">Required information</h3>
            <div class="required twelve wide field">
              <label>Title</label>
              <input id="title" type="text" name="title" value.bind="bookData.title" placeholder="Title">
            </div>

            <div class="fields">
              <div class="six wide required field">
                <label>Genre</label>
                <select class="ui dropdown" value.bind="bookDataGenre.id">
                  <option model.bind="null" value="">Choose...</option>
                  <option repeat.for="genre of genres" model.bind="genre.id">${genre.string}</option>
                </select>
              </div>

              <div class="six wide required field">
                <label>Condition</label>
                <select class="ui dropdown" value.bind="bookDataCondition.id">
                  <option model.bind="null" value="">Choose...</option>
                  <option repeat.for="condition of conditions" model.bind="condition.id">${condition.string}</option>
                </select>
              </div>
            </div>

            <div class="fields">
              <div class="four wide required field">
                <label>Price</label>
                <div class="ui right labeled input">
                  <input id="bookPrice" type="number" step=".01" name="bookPrice" min="0" max="9999" value.bind="bookData.price" placeholder="0.00">
                  <div class="ui label">â‚¬</div>
                </div>
              </div>

              <div class="eight wide required field">
                <label>Language</label>
                <select class="ui dropdown" value.bind="bookDataLanguage.id">
                  <option model.bind="null" value="">Choose...</option>
                  <option repeat.for="language of languages" model.bind="language.id">${language.string}</option>
                </select>
              </div>
            </div>

            <div class="required twelve wide field">
              <label>Description</label>
              <textarea name="richTextEditor"></textarea>
            </div>

            <div class="required eight wide field">
              <label>Your city</label>
              <select class="ui search dropdown" value.bind="selectedCity">
                <option model.bind="null" value="">choose or search...</option>
                <option repeat.for="city of cities" model.bind="city.id">${city.string}</option>
              </select>
            </div>

            <h3 class="ui dividing header sell-book second">Additional information</h3>
            <div class="twelve wide field">
              <label>Author / Authors</label>
              <input id="author" type="text" name="author" value.bind="bookData.author">
            </div>

            <div class="fields">
              <div class="three wide field">
                <label>Year of publication</label>
                <input id="pubyear" type="text" name="pubyear" value.bind="bookData.pubyear">
              </div>
              <div class="nine wide field">
                <label>Publisher</label>
                <input id="publisher" type="text" name="publisher" value.bind="bookData.publisher">
              </div>
            </div>

            <input class="ui large teal submit button" type="submit" value="Sell Book" id="sell_book">

          </form>
        </div>
      </div>
      

      <div class="four wide column">
        <div class="ui center aligned segment">
          <img class="ui fluid image" src.bind="bookData.imagepath">

          <form class="ui large form" id="bookaddform" method="post" submit.delegate="addBook()">
            <label for="image" class="ui big teal icon button upload-image">
              <i class="upload icon"></i>
              <span>add image</span>
            </label>
            <input type="file" id="image" style="display:none" name="imagepath" accept=".png,.jpg">
          </form>

        </div>
      </div>

    </div>
  </div>

</template>
