<template>
  <div class="ui fluid container custom-width">

    <div class="ui secondary menu myaccount">
      <div class="item myaccount breadcrumb">
        <div class="ui massive breadcrumb">
          <a href="#" class="section">
            <i class="home icon"></i>
          </a>
          <i class="right chevron icon divider"></i>
          <div class="section">My Account</div>
          <i class="right chevron icon divider"></i>
          <div class="active section">Dashboard</div>
        </div>
      </div>

      <div class="right menu">
        <a class="active item" click.delegate="router.navigateToRoute('history')">Dashboard</a>
        <a class="item" click.delegate="router.navigateToRoute('myaccount')">Personal Information</a>
      </div>
    </div>

    <div class="ui segment dashboard">
      <div class="ui divided grid">

        <div class="eight wide column dashboard">
          <h2 class="ui header dashboard">
            <i class="ui large bookmark outline icon"></i>
            <div class="content">
              My Watch List
            </div>
          </h2>

          <div if.bind="noBooksInWatchlist">
            <div class="center aligned ui grid all-books no-books">
              <div class="column">
                <h2>Your watchlist is empty!</h2>
                <h3>Try adding books you like to your watchlist</h3>
              </div>
            </div>
          </div>

          <div class="ui link items" if.bind="!noBooksInWatchlist">
            <div class="item dashboard" repeat.for="bookForWatchList of booksForWatchList">
                
              <div class="ui tiny image">
                <img class="dashboard image" src="${bookForWatchList.bookid.imagepath}" click.delegate="navigateToBookById(bookForWatchList.id)">
              </div>
              <div class="content">
                  
                <a class="header" click.delegate="navigateToBookById(bookForWatchList.bookid.id)">${bookForWatchList.bookid.title}</a> <i class="close icon" click.delegate="deleteFromWatchlist(bookForWatchList.bookid.id)"></i>
                <div class="description">
                  <div class="item-description-watch-list" click.delegate="navigateToBookById(bookForWatchList.bookid.id)">
                    <p>${bookForWatchList.bookid.userid.full_name}</p>
                    <p>
                      <i class="ui phone icon"></i>${bookForWatchList.bookid.userid.phone}
                      <br>
                      <i class="ui at icon"></i>${bookForWatchList.bookid.userid.email}
                    </p>
                  </div>
                  <div class="ui ${bookForWatchList.bookid.status.id === 1 ? 'green' : ''} ${bookForWatchList.bookid.status.id === 2 ? 'red' : ''} tag label">${bookForWatchList.bookid.status.string}</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="eight wide column dashboard">
          <h2 class="ui header dashboard">
            <i class="ui large handshake outline icon"></i>
            <div class="content">
              Sales Activity
            </div>
          </h2>

          <div if.bind="noBooksInSaleActivity">
            <div class="center aligned ui grid all-books no-books">
              <div class="column">
                <h2>Your have no sale acitivity yet!</h2>
                <h3>Try selling your first book</h3>
              </div>
            </div>
          </div>

          <div class="ui link items">
            <div class="item dashboard" repeat.for="bookForSalesActivity of booksForSalesActivity">
              <div class="ui tiny image">
                <img class="dashboard image" src="${bookForSalesActivity.imagepath}" click.delegate="navigateToBookById(bookForSalesActivity.id)">
              </div>
              <div class="content">
                <a class="header" click.delegate="navigateToBookById(bookForSalesActivity.id)">${bookForSalesActivity.title}</a>
                <div class="description">
                  <div class="item-description-sales-activity" click.delegate="navigateToBookById(bookForSalesActivity.id)">
                    <p>${bookForSalesActivity.userid.full_name}</p>
                    <p>
                      <b>${bookForSalesActivity.price}</b>
                      <i class="ui euro icon"></i>
                    </p>
                  </div>
                  <div class="ui labels">
                    <div class="ui ${bookForSalesActivity.status.id === 1 ? 'green' : ''} ${bookForSalesActivity.status.id === 2 ? 'red' : ''} tag label">${bookForSalesActivity.status.string}</div>
                    <a class="ui label" if.bind="bookForSalesActivity.status.id === 1" click.delegate="changeBookStatus(bookForSalesActivity.id, 2)">
                      <i class="ui gem outline icon"></i>
                      Mark as sold
                    </a>
                    <!-- <a class="ui label" if.bind="bookForSalesActivity.status.id === 2" click.delegate="changeBookStatus(bookForSalesActivity.id, 1)">
                      Activate
                    </a> -->
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>

      </div>
    </div>

  </div>

</template>
